{
    "sourceFile": "src/pages/Login.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1760210016488,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1760294813071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,14 +3,22 @@\n \n export default function Login(){\n   const [form, setForm] = useState({ email:'', password:'' })\n   const onChange = e => setForm({ ...form, [e.target.name]: e.target.value })\n-  const onSubmit = async e => { e.preventDefault(); const { data } = await login(form); localStorage.setItem('token', data.token); window.location.href = '/' }\n+\n+  const onSubmit = async e => {\n+    e.preventDefault()\n+    const { data } = await login(form)\n+    localStorage.setItem('token', data.token)\n+    localStorage.setItem('role', data.user?.role || 'user')   // <— save role\n+    window.location.href = '/'\n+  }\n+\n\\ No newline at end of file\n   return (\n     <form className=\"mx-auto\" style={{maxWidth:420}} onSubmit={onSubmit}>\n       <h3 className=\"mb-3\">Login</h3>\n       <input name=\"email\" className=\"form-control mb-2\" placeholder=\"Email\" onChange={onChange} />\n       <input type=\"password\" name=\"password\" className=\"form-control mb-3\" placeholder=\"Password\" onChange={onChange} />\n       <button className=\"btn btn-primary w-100\">Login</button>\n     </form>\n   )\n-}\n+}\n"
                },
                {
                    "date": 1760514145822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,8 +9,9 @@\n     e.preventDefault()\n     const { data } = await login(form)\n     localStorage.setItem('token', data.token)\n     localStorage.setItem('role', data.user?.role || 'user')   // <— save role\n+    localStorage.setItem('user', JSON.stringify(data.user)); // optional, handy\n     window.location.href = '/'\n   }\n \n   return (\n@@ -20,5 +21,5 @@\n       <input type=\"password\" name=\"password\" className=\"form-control mb-3\" placeholder=\"Password\" onChange={onChange} />\n       <button className=\"btn btn-primary w-100\">Login</button>\n     </form>\n   )\n-}\n\\ No newline at end of file\n+}\n"
                },
                {
                    "date": 1761281424951,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,25 @@\n+import { useState } from 'react'\n+import { login } from '../api/authApi'\n+\n+export default function Login(){\n+  const [form, setForm] = useState({ email:'', password:'' })\n+  const onChange = e => setForm({ ...form, [e.target.name]: e.target.value })\n+\n+  const onSubmit = async e => {\n+    e.preventDefault()\n+    const { data } = await login(form)\n+    localStorage.setItem('token', data.token)\n+    localStorage.setItem('role', data.user?.role || 'user')   \n+    localStorage.setItem('user', JSON.stringify(data.user)); // optional, handy\n+    window.location.href = '/'\n+  }\n+\n+  return (\n+    <form className=\"mx-auto\" style={{maxWidth:420}} onSubmit={onSubmit}>\n+      <h3 className=\"mb-3\">Login</h3>\n+      <input name=\"email\" className=\"form-control mb-2\" placeholder=\"Email\" onChange={onChange} />\n+      <input type=\"password\" name=\"password\" className=\"form-control mb-3\" placeholder=\"Password\" onChange={onChange} />\n+      <button className=\"btn btn-primary w-100\">Login</button>\n+    </form>\n+  )\n+}\n"
                }
            ],
            "date": 1760210016488,
            "name": "Commit-0",
            "content": "import { useState } from 'react'\nimport { login } from '../api/authApi'\n\nexport default function Login(){\n  const [form, setForm] = useState({ email:'', password:'' })\n  const onChange = e => setForm({ ...form, [e.target.name]: e.target.value })\n  const onSubmit = async e => { e.preventDefault(); const { data } = await login(form); localStorage.setItem('token', data.token); window.location.href = '/' }\n  return (\n    <form className=\"mx-auto\" style={{maxWidth:420}} onSubmit={onSubmit}>\n      <h3 className=\"mb-3\">Login</h3>\n      <input name=\"email\" className=\"form-control mb-2\" placeholder=\"Email\" onChange={onChange} />\n      <input type=\"password\" name=\"password\" className=\"form-control mb-3\" placeholder=\"Password\" onChange={onChange} />\n      <button className=\"btn btn-primary w-100\">Login</button>\n    </form>\n  )\n}"
        }
    ]
}