{
    "sourceFile": "src/pages/Home.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1760209955346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1760272212381,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,20 @@\n-import CalendarView from '../components/CalendarView'\n-import { useNavigate } from 'react-router-dom'\n+import CalendarView from '../components/CalendarView';\n+import { useNavigate } from 'react-router-dom';\n \n export default function Home(){\n-  const nav = useNavigate()\n-  const onDateSelect = (iso)=> nav(`/events?from=${iso}&to=${iso}`)\n+  const nav = useNavigate();\n+  const onDateSelect = (iso) => nav(`/events?from=${iso}&to=${iso}`);\n+\n+  // Optional: show some demo items until backend is ready\n+  const demo = [\n+    { title: 'Tech Talk', start: new Date(), end: new Date() },\n\\ No newline at end of file\n+  ];\n+\n   return (\n-    <div>\n+    <>\n       <h2 className=\"mb-3\">Event Calendar Overview</h2>\n       <p className=\"text-muted\">Use the calendar to jump to events on a specific date.</p>\n-      <CalendarView onDateSelect={onDateSelect} />\n-    </div>\n-  )\n-}\n+      <CalendarView events={demo} onDateSelect={onDateSelect} />\n+    </>\n+  );\n+}\n"
                },
                {
                    "date": 1760272258657,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,8 @@\n \n export default function Home(){\n   const nav = useNavigate();\n   const onDateSelect = (iso) => nav(`/events?from=${iso}&to=${iso}`);\n-\n   // Optional: show some demo items until backend is ready\n   const demo = [\n     { title: 'Tech Talk', start: new Date(), end: new Date() },\n   ];\n@@ -16,5 +15,5 @@\n       <p className=\"text-muted\">Use the calendar to jump to events on a specific date.</p>\n       <CalendarView events={demo} onDateSelect={onDateSelect} />\n     </>\n   );\n-}\n\\ No newline at end of file\n+}\n"
                },
                {
                    "date": 1760272269157,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,8 @@\n \n export default function Home(){\n   const nav = useNavigate();\n   const onDateSelect = (iso) => nav(`/events?from=${iso}&to=${iso}`);\n-  // Optional: show some demo items until backend is ready\n   const demo = [\n     { title: 'Tech Talk', start: new Date(), end: new Date() },\n   ];\n \n"
                },
                {
                    "date": 1760273528209,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,18 +1,23 @@\n-import CalendarView from '../components/CalendarView';\n-import { useNavigate } from 'react-router-dom';\n+import CalendarView from '../components/CalendarView'\n+import { useNavigate } from 'react-router-dom'\n \n export default function Home(){\n-  const nav = useNavigate();\n-  const onDateSelect = (iso) => nav(`/events?from=${iso}&to=${iso}`);\n-  const demo = [\n-    { title: 'Tech Talk', start: new Date(), end: new Date() },\n-  ];\n+  const nav = useNavigate()\n+  const onDateSelect = (iso)=> nav(`/events?from=${iso}&to=${iso}`)\n \n+  const demo = [{ title: 'Tech Talk', start: new Date(), end: new Date() }]\n+\n   return (\n-    <>\n-      <h2 className=\"mb-3\">Event Calendar Overview</h2>\n-      <p className=\"text-muted\">Use the calendar to jump to events on a specific date.</p>\n-      <CalendarView events={demo} onDateSelect={onDateSelect} />\n-    </>\n-  );\n+    <div>\n+      <h2 className=\"mb-2\">Event Calendar Overview</h2>\n+      <p className=\"text-muted mb-4\">Use the calendar to jump to events on a specific date.</p>\n+\n+      {/* Center the calendar */}\n+      <div className=\"d-flex justify-content-center\">\n+        <div className=\"w-100\" style={{ maxWidth: 980 }}>\n+          <CalendarView events={demo} onDateSelect={onDateSelect} />\n+        </div>\n+      </div>\n+    </div>\n+  )\n }\n"
                },
                {
                    "date": 1760273546209,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n       <p className=\"text-muted mb-4\">Use the calendar to jump to events on a specific date.</p>\n \n       {/* Center the calendar */}\n       <div className=\"d-flex justify-content-center\">\n-        <div className=\"w-100\" style={{ maxWidth: 980 }}>\n+        <div className=\"w-100\" style={{ maxWidth: 100 }}>\n           <CalendarView events={demo} onDateSelect={onDateSelect} />\n         </div>\n       </div>\n     </div>\n"
                },
                {
                    "date": 1760273555246,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n       <p className=\"text-muted mb-4\">Use the calendar to jump to events on a specific date.</p>\n \n       {/* Center the calendar */}\n       <div className=\"d-flex justify-content-center\">\n-        <div className=\"w-100\" style={{ maxWidth: 100 }}>\n+        <div className=\"w-100\" style={{ maxWidth: \"\" }}>\n           <CalendarView events={demo} onDateSelect={onDateSelect} />\n         </div>\n       </div>\n     </div>\n"
                },
                {
                    "date": 1760297950281,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,78 @@\n-import CalendarView from '../components/CalendarView'\n-import { useNavigate } from 'react-router-dom'\n+import { useEffect, useMemo, useState } from 'react';\n+import { useNavigate } from 'react-router-dom';\n+import { listEvents } from '../api/eventApi';\n+import CalendarView from '../components/CalendarView';\n \n-export default function Home(){\n-  const nav = useNavigate()\n-  const onDateSelect = (iso)=> nav(`/events?from=${iso}&to=${iso}`)\n+// helpers to get month range\n+const monthRange = (date = new Date()) => {\n+  const start = new Date(date.getFullYear(), date.getMonth(), 1);\n+  const end = new Date(date.getFullYear(), date.getMonth() + 1, 0, 23, 59, 59, 999);\n+  return { start, end };\n+};\n \n-  const demo = [{ title: 'Tech Talk', start: new Date(), end: new Date() }]\n+export default function Home() {\n+  const nav = useNavigate();\n+  const [range, setRange] = useState(monthRange());       // current visible month\n+  const [items, setItems] = useState([]);\n+  const [loading, setLoading] = useState(false);\n \n+  // fetch events for current range\n+  const fetchEvents = async ({ start, end }) => {\n+    setLoading(true);\n+    try {\n+      const { data } = await listEvents({\n+        from: start.toISOString(),\n+        to: end.toISOString(),\n+        sort: 'startAt',\n+        order: 'asc',\n+        limit: 200\n+      });\n+      const arr = (data.items || data).map(e => ({\n+        id: e._id,\n+        title: e.title,\n+        start: new Date(e.startAt || e.date),\n+        end: new Date(e.endAt || e.startAt || e.date),\n+        resource: e\n+      }));\n+      setItems(arr);\n+    } finally {\n+      setLoading(false);\n+    }\n+  };\n+\n+  // initial load & when range changes\n+  useEffect(() => { fetchEvents(range); }, [range.start.getTime(), range.end.getTime()]);\n+\n+  const onDateSelect = (iso) => nav(`/events?from=${iso}&to=${iso}`);\n+  const onEventClick = (ev) => nav(`/events/${ev.id}`);\n+\n+  // react-big-calendar passes either an array (month) or object with start/end (week/day)\n+  const onRangeChange = (r) => {\n+    if (Array.isArray(r) && r.length) {\n+      const start = new Date(r[0].getFullYear(), r[0].getMonth(), 1);\n+      const end = new Date(r[0].getFullYear(), r[0].getMonth() + 1, 0, 23, 59, 59, 999);\n+      setRange({ start, end });\n+    } else if (r?.start && r?.end) {\n+      setRange({ start: r.start, end: r.end });\n+    }\n+  };\n+\n   return (\n     <div>\n       <h2 className=\"mb-2\">Event Calendar Overview</h2>\n-      <p className=\"text-muted mb-4\">Use the calendar to jump to events on a specific date.</p>\n+      <p className=\"text-muted mb-4\">Click a date to filter events, or click an event to open its details.</p>\n \n-      {/* Center the calendar */}\n       <div className=\"d-flex justify-content-center\">\n-        <div className=\"w-100\" style={{ maxWidth: \"\" }}>\n-          <CalendarView events={demo} onDateSelect={onDateSelect} />\n+        <div className=\"w-100\" style={{ maxWidth: 980 }}>\n+          {loading && <div className=\"text-muted mb-2\">Loading eventsâ€¦</div>}\n+          <CalendarView\n+            events={items}\n+            onDateSelect={onDateSelect}\n+            onEventClick={onEventClick}\n+            onRangeChange={onRangeChange}\n+          />\n         </div>\n       </div>\n     </div>\n-  )\n+  );\n }\n"
                }
            ],
            "date": 1760209955346,
            "name": "Commit-0",
            "content": "import CalendarView from '../components/CalendarView'\nimport { useNavigate } from 'react-router-dom'\n\nexport default function Home(){\n  const nav = useNavigate()\n  const onDateSelect = (iso)=> nav(`/events?from=${iso}&to=${iso}`)\n  return (\n    <div>\n      <h2 className=\"mb-3\">Event Calendar Overview</h2>\n      <p className=\"text-muted\">Use the calendar to jump to events on a specific date.</p>\n      <CalendarView onDateSelect={onDateSelect} />\n    </div>\n  )\n}"
        }
    ]
}